<!DOCTYPE html>
<html lang="en-us">

<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
     &middot; Pietro
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">


  <link id="prism-css" href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144"
    href="/public/apple-touch-icon-precomposed.png">
  <!-- <link rel="shortcut icon" href="/public/favicon.ico"> -->

  <!-- ////////// Favicon ////////// -->
  <!-- For old IEs -->
  <link rel="shortcut icon" href="/public/favicon.ico/favicon.ico" />

  <!-- For new browsers - multisize ico  -->
  <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="/public/favicon.ico/favicon.ico">

  <!-- For iPad with high-resolution Retina display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/public/favicon.ico/favicon-152.png">

  <!-- For iPad with high-resolution Retina display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico/favicon-144.png">

  <!-- For iPhone with high-resolution Retina display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/public/favicon.ico/favicon-120.png">

  <!-- For iPhone with high-resolution Retina display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/public/favicon.ico/favicon-114.png">

  <!-- For iPhone 6+ -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/public/favicon.ico/favicon-180.png">

  <!-- For first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/public/favicon.ico/favicon-72.png">

  <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/public/favicon.ico/favicon-57.png">

  <!-- For Old Chrome -->
  <link rel="icon" href="/public/favicon.ico/favicon-32.png" sizes="32x32">

  <!-- For IE10 Metro -->
  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="favicon-144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- Chrome for Android -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" sizes="192x192" href="/public/favicon.ico/favicon-192.png">
  <!-- ////////// Favicons end ////////// -->


  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <!-- font awesome CDN -->
  <script src="https://use.fontawesome.com/84dfffd1e8.js"></script>
  <style>   

 /* Dark mode */
@media (prefers-color-scheme: dark) {
  body{
      background-color: black;
      color: #B2BEB5;
    }

      img {
      filter: grayscale(30%);
    }

    body >h2 h3 h4 h5 h6 {
      color: white;
    }
    body >h1 {
      color: white;
    }
}

/* Light mode */
@media (prefers-color-scheme: light) {
  body {
      background-color: white;
      color: black;
      /* transition: background-color 300ms ease-in-out 0s; */
    } 
}
  </style>

</head>

<body class="">
  <!-- class="theme-base-08" -->

  <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
 styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!--  checked -->

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Tips Tricks & Quick Fix by <a href='https://twitter.com/pietropassarell' target='_blank'>@pietropassarell</a>i.</p>

    
  </div>

  <nav class="sidebar-nav">

    

    <a class="sidebar-nav-item" href="/"><i
        class="fa fa-user" aria-hidden="true"></i> About</a>

    <a class="sidebar-nav-item" disabled="true">

      <a class="sidebar-nav-item" href="https://pietropassarelli.com/photos/" target="_blank" rel="noopener noreferrer">
        <i class="fa fa-camera-retro" aria-hidden="true"></i>Photos
      </a>

      
      <a class="sidebar-nav-item" href="/categories/video">
        
        <i class="fa fa-film" aria-hidden="true"></i> Video
        
      </a>
      
      <a class="sidebar-nav-item" href="/categories/tech">
        
        <i class="fa fa-laptop" aria-hidden="true"></i> Tech
        
      </a>
      
      <a class="sidebar-nav-item" href="/categories/ttqf">
        
        <i class="fa fa-list-alt" aria-hidden="true"></i> Tips Tricks & Quick Fix
        
      </a>
      
      <a class="sidebar-nav-item" href="/categories/blog">
        
        <i class="fa fa-pencil" aria-hidden="true"></i> Blog
        
      </a>
      

      <a class="sidebar-nav-item" disabled="true">

      </a>
      <a class="icon-envelope  sidebar-nav-item"
        href="mailto:pietro.passarelli@gmail.com?Subject=Hello&body=Hi Pietro, %0D%0A Was reading your website, and I've got a question..."
        class="author-social" target="_blank" rel="noopener noreferrer"><i class="icon-mail"></i><i
          class="fa fa-envelope-o" aria-hidden="true"></i>
        E-mail</a> <span></span>


      <a class="icon-twitter  sidebar-nav-item "
        href="https://twitter.com/pietropassarell" target="_blank" rel="noopener noreferrer"> <i
          class="fa fa-twitter" aria-hidden="true"></i> Twitter</a>

      <a class="icon-github sidebar-nav-item "
        href="https://github.com/pietrop" target="_blank" rel="noopener noreferrer"><i
          class="fa fa-github" aria-hidden="true"></i> GitHub</a>

      <a class="icon-linkedin sidebar-nav-item "
        href="https://uk.linkedin.com/in/pietropassarelli" target="_blank" rel="noopener noreferrer"><i
          class="fa fa-linkedin-square" aria-hidden="true"></i> Linkedin</a>





</div>

  <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
    content to avoid any CSS collisions with our real content. -->
  <div class="wrap">
    <div class="masthead">
      <div class="container">
        <h3 class="masthead-title">
          <a href="/" title="Home">Pietro</a>
          <small>Passarelli </small>
        </h3>
      </div>
    </div>

    <div class="container content">
      
<div class="post">
	<h1 class="post-title">programmatic EDL </h1>
	<span class="post-date">Sun May 17 2015 10:15:00 GMT-0400 (Eastern Daylight Time)

		
	</span>

	

	<!-- optional gitbook link -->
	

	<!-- project page -->
	

	

	




	<!-- Stack -->
	


	
	
	
	What do you need to know about EDL to be able to work with it programmatically?
	
	<hr>

	<h2>What is an EDL?</h2>
<blockquote>
<p>In the days of linear tape editing, EDLs were used to save and restore the timecode information for each edit performed on a computer-controlled editing system. Because timecode editing systems were expensive, many editors would perform offline edits with window dubs (low-quality copies of original footage with timecode visually superimposed, or burned, directly onto the image) and then create an EDL by hand for delivery to a computer-controlled editing system for the online edit.[ ... ] If you need to move a project to or from a different system or editing workstation, you can export your project to an interchange file format such as EDL or Final Cut Pro XML Interchange Format.</p>
</blockquote>
<p>From <a href="https://documentation.apple.com/en/finalcutpro/usermanual/index.html#chapter=96%26section=1%26tasks=true">Apple documentation</a></p>
<h2>Example</h2>
<pre><code>TITLE: Jesselyn Radack
FCM: NON-DROP FRAME

001   time  AA/V  C  00:03:11:11 00:03:22:24 00:00:00:00 00:00:11:13
* FROM CLIP NAME: JR cam B transcription.mp4
FINAL CUT PRO REEL: time REPLACED BY: time

002   time  AA/V  C  00:04:40:24 00:04:46:23 00:00:11:13 00:00:17:11
* FROM CLIP NAME: JR cam B transcription.mp4
FINAL CUT PRO REEL: time REPLACED BY: time
</code></pre>
<!--Explanation of EDL parts   -->
<p>So we have a head, wich is title and Drop frame informations for NTSC sequences, then a body which is composed of lines that describe each video segment. Which in EDL terminaology are called events.</p>
<!-- >The first line of an EDL contains the title of the sequence. In NTSC sequences, the second line displays whether the sequence timecode is drop frame or non-drop frame.
 -->
<h3>an event</h3>
<blockquote>
<p>In an EDL, each clip in your sequence is represented by a line of text called an event, which has a unique event number. A clip in an EDL is defined by a source reel name and two pairs of timecode In and Out points. The first pair of timecode numbers describes the source tape (or clip) In and Out points. The second pair describes the timecode location where that clip should be placed onto a master tape (or Timeline).</p>
</blockquote>
<pre><code>Edit# Reel Name  Channel Trans     Source IN        Source OUT          Record IN         Record OUT

001   time        AA/V    C       0:03:11:11        00:03:22:24         00:00:00:00       00:00:11:13
</code></pre>
<h3>Track Type</h3>
<blockquote>
<p>Each edit uses one or more tracks in the sequence. In the case of tape-to-tape editing, this field determines which tracks are turned on on the record deck during this event.</p>
</blockquote>
<blockquote>
<p>V: Video
A: Audio (Some EDL formats label this 1 or 2.)
A2: Audio 2
AA: Both channels of audio</p>
</blockquote>
<h3>Edit (or Transition) Type</h3>
<p>An EDL can represent several kinds of video edits, or transitions. A cut requires a single source, while all other types of edits require two sources, and thus two lines in an EDL.</p>
<ul>
<li><code>C</code>: Cut. This is the simplest kind of edit.</li>
<li><code>D</code>: Dissolve. This transition begins with one source and dissolves to a second source.</li>
<li><code>W</code>: A wipe. This is followed by a wipe code that indicates the type of standard wipe.</li>
<li><code>K</code>: A key edit. Clips on Video track 2 can be used as the foreground (fill) layer in a standard video key.</li>
<li><code>A</code> dissolve from a Final Cut Pro sequence is shown below in EDL format.</li>
</ul>
<pre><code>* FROM CLIP NAME: JR cam B transcription.mp4
</code></pre>
<p>The reel name is shorten to 7 char if it exceeds that limit, and the original reel name is kept track in this field.</p>
<blockquote>
<p>A reel name describes which source tape (or reel) the clip comes from. Final Cut Pro assumes that clips without reel names come from non-tape sources, such as color bars, black, or other generators. Final Cut Pro automatically designates these auxiliary sources with the reel name AX.</p>
</blockquote>
<pre><code>FINAL CUT PRO REEL: time REPLACED BY: time
</code></pre>
<p>For a basic EDL composer this could be represented as the following object</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> edlSqDemo <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"Demo Title of project"</span><span class="token punctuation">,</span><br>    <span class="token string">"offset"</span><span class="token operator">:</span> <span class="token string">"00:00:28:08"</span><span class="token punctuation">,</span> <span class="token comment">//optional</span><br>    <span class="token string">"events"</span><span class="token operator">:</span>  <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span> <br>        <span class="token string">"id"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><br>        <span class="token string">"startTime"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// in deconds </span><br>        <span class="token string">"endTime"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span><br>        <span class="token string">"reelName"</span><span class="token operator">:</span><span class="token string">"SomeReelName"</span><span class="token punctuation">,</span> <span class="token comment">//optional</span><br>        <span class="token string">"clipName"</span><span class="token operator">:</span><span class="token string">"Something.mov"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> <br>        <span class="token string">"id"</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><br>        <span class="token string">"startTime"</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span><br>        <span class="token string">"endTime"</span><span class="token operator">:</span> <span class="token number">55</span><span class="token punctuation">,</span><br>        <span class="token string">"reelName"</span><span class="token operator">:</span><span class="token string">"SomeOtherReelName"</span><span class="token punctuation">,</span> <span class="token comment">//optional </span><br>        <span class="token string">"clipName"</span><span class="token operator">:</span><span class="token string">"SomethingElse.mov"</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p><code>offset</code> if not present, then the composer it defaults to zero. This is essentially for footage filmed from camcorders,where the footage has a timecode set by the camera such as &quot;free run&quot;, &quot;rec run&quot;, &quot;time of the day&quot; etc.. and therfore different to the one you'd get by start counting form beginning of the video file.</p>
<p>We need to add this otherwise we'd get a missmatch when reconnecting.</p>
<!-- add tooltip explaoining each -->
<p>This assumes that <code>C</code> and <code>AA/V</code> don't change. but this could be added to out EDL object, and added to the mix at a later stage should a use case arise.</p>
<p>More on EDL specs in <a href="https://documentation.apple.com/en/finalcutpro/usermanual/index.html#chapter=96%26section=1%26tasks=true">Apple documentation</a> and <a href="https://edlmax.com/MAXGUIDE.HTML">here</a></p>
<h2>Optional <code>ReelName</code></h2>
<p>If the video/audio file does not come directly from a comcorder the reel name might not be present, in that case it should be replaced with <code>AX</code>.</p>
<pre><code>001  AX       V     C        01:00:00:00 01:00:05:00 00:00:00:00 00:00:05:00
* FROM CLIP NAME: Title 01
</code></pre>
<ul>
<li>no <code>reel</code> name</li>
<li><code>AX</code></li>
<li>only V channel</li>
<li>normal cut <code>C</code></li>
<li>need to decide on duration to make in and out of source. in will always be <code>00:00:00:00</code></li>
</ul>

</div>
    </div>
  </div>

  <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  <script>
    (function (document) {
      var toggle = document.querySelector('.sidebar-toggle');
      var sidebar = document.querySelector('#sidebar');
      var checkbox = document.querySelector('#sidebar-checkbox');

      document.addEventListener('click', function (e) {
        var target = e.target;

        if (!checkbox.checked ||
          sidebar.contains(target) ||
          (target === checkbox || target === toggle)) return;

        checkbox.checked = false;
      }, false);
    })(document);
  </script>

  


  <script>
    // Logic to adjust syntax highlighting based on whether dark mode is on 
    // in the system or not
    const prismEl = document.querySelector('#prism-css');
    const DARK = 'dark';
    const LIGHT = 'light';
    const PRISM_LIGHT_URL = "https://unpkg.com/prismjs@1.20.0/themes/prism.css";
    // https://unpkg.com/browse/prismjs@0.0.1/themes/ coy, dark, funky,okaidia, tomorrow, twilight
    const PRISM_DARK_URL = "https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css"

    function init() {
      const DARK = 'dark';
      const LIGHT = 'light';
      const isSystemDarkMode = matchMedia &&
        matchMedia('(prefers-color-scheme: dark)').matches;

      if (isSystemDarkMode) {
        prismEl.href = PRISM_DARK_URL;
      }

      // Event listener to change with system change
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        const changedColourScheme = e.matches ? DARK: LIGHT;
          if (changedColourScheme === DARK) {
            prismEl.href = PRISM_DARK_URL;
          } else {
            prismEl.href = PRISM_LIGHT_URL;
          }
      });
    }

    init();
  </script>
</body>

</html>